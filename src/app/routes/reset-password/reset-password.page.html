<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Reestablecer Contraseña</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Reestablecer Contraseña</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-card>
    <ion-card-content>
      <form [formGroup]="form" class="grid gap-3">

        <ion-input label="E-Mail" labelPlacement="floating" helper-text="Ingrese su correo electrónico" error-text="Ingrese su correo electrónico" formControlName="email" fill="solid"></ion-input>

        <ion-input label="RUT" labelPlacement="floating" helper-text="Ingrese su RUT sin puntos ni guión" error-text="Debe ingresar un RUT válido" formControlName="rut" fill="solid"></ion-input>

        <ion-input label="Nueva Contraseña" labelPlacement="floating" helper-text="Contraseña Debe contener 6 caracteres como mínimo" error-text="Ingrese una contraseña válida" formControlName="password" type="password" placeholder="******" fill="solid"></ion-input>
        <ion-input label="Repita contraseña" labelPlacement="floating" formControlName="repeatPassword" helper-text="Ambas contraseñas deben ser iguales" type="password" placeholder="******" fill="solid"></ion-input>

        <div class="flex justify-center gap-3">
          <ion-button (click)="onSubmit()">Reestablecer Contraseña</ion-button>
          <ion-button (click)="doResetForm()">Limpiar campos</ion-button>
        </div>

      </form>
    </ion-card-content>
  </ion-card>

  <ion-alert [isOpen]="isAlertOpen" header="Reestablecimiento de Contraseña" message="{{alertMsg}}" (didDismiss)="closeAlert()" [buttons]="alertButtons"></ion-alert>

  <div *ngIf="showInputError" class="errorFeedback">
    Debe ingresar sus credenciales
  </div>

</ion-content>